<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>elmfmt - Elm Code Formatter</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>elmfmt</h1>
        <p class="subtitle">A formatter for Elm code, powered by Topiary</p>
    </header>

    <main>
        <div class="editor-container">
            <div class="editor-panel">
                <div class="panel-header">
                    <h2>Input</h2>
                    <button id="format-btn" class="btn-primary">Format</button>
                </div>
                <textarea id="input" spellcheck="false" placeholder="Paste your Elm code here...">module Main exposing (main)

import Html exposing (text)


main =
    text "Hello, World!"


greet name =
    if String.isEmpty name
        then "Hello, stranger!"
        else "Hello, " ++ name ++ "!"


point = ( 1, 2, 3 )


record =
    { name = "Alice"
    , age = 30
    , email = "alice@example.com"
    }
</textarea>
            </div>
            <div class="editor-panel">
                <div class="panel-header">
                    <h2>Output</h2>
                    <button id="copy-btn" class="btn-secondary">Copy</button>
                </div>
                <textarea id="output" spellcheck="false" readonly placeholder="Formatted code will appear here..."></textarea>
            </div>
        </div>

        <div class="settings-panel">
            <h2>Settings</h2>
            <div class="settings-grid">
                <div class="setting">
                    <label for="indentation">Indentation (spaces)</label>
                    <input type="number" id="indentation" value="2" min="1" max="8">
                </div>
                <div class="setting">
                    <label for="if-style">If-then-else style</label>
                    <select id="if-style">
                        <option value="indented" selected>Indented (default)</option>
                        <option value="hanging">Hanging</option>
                    </select>
                </div>
                <div class="setting">
                    <label for="tuple-style">Tuple style</label>
                    <select id="tuple-style">
                        <option value="spaced" selected>Spaced (elm-format compatible)</option>
                        <option value="compact">Compact</option>
                    </select>
                </div>
                <div class="setting">
                    <label for="newlines-between-decls">Blank lines between declarations</label>
                    <input type="number" id="newlines-between-decls" value="2" min="1" max="5">
                </div>
            </div>
            <div class="style-examples">
                <div class="example" id="if-style-example">
                    <h3>If-then-else style preview</h3>
                    <pre id="if-style-preview"></pre>
                </div>
                <div class="example" id="tuple-style-example">
                    <h3>Tuple style preview</h3>
                    <pre id="tuple-style-preview"></pre>
                </div>
            </div>
        </div>

        <div id="error-container" class="error-container hidden">
            <strong>Error:</strong> <span id="error-message"></span>
        </div>

        <div id="loading" class="loading hidden">
            <div class="spinner"></div>
            <span>Loading formatter...</span>
        </div>
    </main>

    <footer>
        <p>
            <a href="https://github.com/ad-si/elmfmt" target="_blank">GitHub</a>
            <span class="separator">|</span>
            Powered by <a href="https://github.com/tweag/topiary" target="_blank">Topiary</a>
        </p>
    </footer>

    <script type="module" src="app.js"></script>
</body>
</html>
